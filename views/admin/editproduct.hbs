


<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Edit Product</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  </head>
  <body>
    <section class="container product-adding-page mt-5">
  <form action="/edit-product" method="post" enctype="multipart/form-data">
    <div class="row">
      <div class="col-lg-6">
        <!-- Product Name -->
        <div class="mb-3">
          <label for="productName" class="form-label">Product Name</label>
          <input
            type="text"
            class="form-control"
            id="name"
            name="name"
            placeholder="Enter product name"
			value="{{data.name}}"
          />
        </div>
		<input
            type="text"
            class="form-control"
            id="name"
            name="id"
            placeholder="Enter product name"
			hidden
			value="{{data._id}}"
          />
        <!-- Product Media -->
        <div class="mb-3">
          <label for="productMedia" class="form-label">Product Media</label>
          <input type="file" class="form-control" id="productMedia" name="productImage" />
        </div>
        <div class="mb-3">
          <label for="productMedia" class="form-label">Existing Media</label>
          <img src="{{data.image}}" class="form-control img-thumbnail" style="height: 10rem; width:10rem" alt="" srcset="">
        </div>

        <!-- Variant -->
        <div class="mb-3">
          <label for="variants" class="form-label">Edition</label>
		  
          <select class="form-select mb-2" id="variant" name="variant">
            <option value="value="{{data.variant}}"" selected>{{data.variant}}</option>
            <option value="Player version" >Player version</option>
            <option value="Fan version">Fan version</option>
            <option value="First Grade Set">First Grade Set</option>
            <option value="Sublimation">Sublimation</option>
          </select>
        </div>
        <!-- Pricing -->
        <div class="row">
          <div class="col-md-6">
            <div class="mb-3">
              <label for="mrp" class="form-label">MRP</label>
              <input
                type="number"
                class="form-control"
                id="mrp"
                placeholder="Enter MRP"
                name="mrp"
				value="{{data.mrp}}"
              />
            </div>
          </div>
          <div class="col-md-6">
            <div class="mb-3">
              <label for="price" class="form-label">Price</label>
              <input
                type="number"
                class="form-control"
                id="price"
                placeholder="Enter price"
                name="price"
				value="{{data.price}}"
              />
            </div>
          </div>
        </div>
        <!-- Stock -->
        <div class="row">
          <label for="size" class="form-label">Stock</label><br>
          <div class="col-md-2">
            <label for="S">S</label>
            <input type="number" class="form-control" id="S" name="stock.S" value="{{data.stock.S}}">
          </div>
          <div class="col-md-2">
            <label for="M">M</label>
            <input type="number" class="form-control" id="M" name="stock.M" value="{{data.stock.M}}">
          </div>
          <div class="col-md-2">
            <label for="L">L</label>
            <input type="number" class="form-control" id="L" name="stock.L" value="{{data.stock.L}}" >
          </div>
          <div class="col-md-2">
            <label for="XL">XL</label>
            <input type="number" class="form-control" id="XL" name="stock.XL" value="{{data.stock.XL}}" >
          </div>
          <div class="col-md-2">
            <label for="XXL">XXL</label>
            <input type="number" class="form-control" id="XXL" name="stock.XXL" value="{{data.stock.XXL}}">
          </div>
        </div>

        <div class="mb-3">
          <label for="tags" class="form-label">Tags</label>
          <select class="form-select mb-2" id="tags" name="tags">
			<option value="value="{{data.tags}}"" selected>{{data.tags}}</option>
            <option value="new" >new</option>
            <option value="best seller">best seller</option>
            <option value="hot deal">hot deal</option>
            <option value="trending">trending</option>
          </select>
        </div>
      </div>

      

      
      <div class="col-lg-6">

        <!-- Advanced Description -->
        <div class="mb-3">
          <div class="mb-3">
              <label for="productDescription" class="form-label">Product Description</label>
              <textarea
                class="form-control"
                id="productDescription"
                rows="4"
                placeholder="Enter product description"
                name="description"
              >{{data.description}}</textarea>
            </div>
            <!-- Advanced Description -->
            <div class="mb-3">
              <label for="advancedDescription" class="form-label">Advanced Description</label>
              <textarea
                class="form-control"
                id="advancedDescription"
                rows="4"
                placeholder="Enter advanced description"
                name="richdescription"
              >{{data.richdescription}}</textarea>
            </div>
        <!-- Product Category -->
        <div class="mb-3">
          <label for="productCategory" class="form-label">Product Category</label>
          <select class="form-select" id="productCategory" name="category">
			<option selected value="{{data.category}}">{{data.category}}</option>
            {{#each category}}
            <option value="{{this.name}}">{{this.name}}</option>
            {{/each}}
          </select>
        </div>
        <!-- Product Subcategory -->
        <div class="mb-3">
          <label for="productSubcategory" class="form-label">Product Subcategory</label>
          <select class="form-select" id="productSubcategory" name="subcategory">
            <option value="" selected>None</option>
			<option selected value="{{data.subcategory}}">{{data.subcategory}}</option>
            {{#each subcategory}}
            <option value="{{this.subCategoryName}}">{{this.subCategoryName}}</option>
            {{/each}}
          </select>
        </div>
      </div>
    </div>
    <button type="submit" class="btn btn-primary mx-auto d-block mt-1 mb-3">Add Product</button>
  </form>

</section>
    
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
 <script>
	window.onload = function() {
    removeDuplicateOptions();
};

function removeDuplicateOptions() {
    var dataVariant = "{{data.variant}}"; // Assuming data.variant is a variable in your context
    var dataVariantTags = "{{data.tags}}"; // Assuming data.variant is a variable in your context
    var dataCategory = "{{data.category}}"; // Assuming data.variant is a variable in your context
    var dataSubCategory = "{{data.subcategory}}"; // Assuming data.variant is a variable in your context

    // Get the select element
    var selectElement = document.getElementById("variant");
    var tags = document.getElementById("tags");
    var category = document.getElementById("productCategory");
    var subcategory = document.getElementById("productSubcategory");

    // Get all options within the select element
    var options = selectElement.options;
    var optionsTags = tags.options;
    var optionscategory = category.options;
    var optionssubcategory = subcategory.options;


    // Loop through options in reverse order to safely remove elements
    for (var i = options.length - 1; i >= 0; i--) {
        if (options[i].value === dataVariant) {
            // Remove the option if it matches the data.variant
            selectElement.remove(i);
        }
    }
    for (var i = optionsTags.length - 1; i >= 0; i--) {
        if (optionsTags[i].value === dataVariantTags) {
            // Remove the option if it matches the data.variant
            tags.remove(i);
        }
    }
    for (var i = optionscategory.length - 1; i >= 0; i--) {
        if (optionscategory[i].value === dataCategory) {
 
            category.remove(i);
			break;
        }
    }
    for (var i = optionssubcategory.length - 1; i >= 0; i--) {
        if (optionssubcategory[i].value === dataSubCategory) {
 
            category.remove(i);
			if(optionssubcategory[i].value ==="")
			{
				subcategory.remove(i);
			}
			break;
        }
    }
}

 </script>
  </body>
</html>
