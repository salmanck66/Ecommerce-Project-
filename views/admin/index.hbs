
		<main>
			<div class="head-title">
				<div class="left">
					<h1>Dashboard</h1>
					<ul class="breadcrumb">
						<li>
							<a href="#">Dashboard</a>
						</li>
						<li><i class='bx bx-chevron-right' ></i></li>
						<li>
							<a class="active" href="#">Home</a>
						</li>
					</ul>
				</div>
			</div>

			<ul class="box-info">
				<li>
					<i class='bx bxs-calendar-check' ></i>
					<span class="text">
						<h3>{{order.length}}</h3>
						<p>Total Orders</p>
					</span>
				</li>
				<li>
					<i class='bx bxs-group' ></i>
					<span class="text">
						<h3>{{visit.count}}</h3>
						<p>Visitors</p>
					</span>
				</li>
				<li>
					<i class='bx bxs-dollar-circle' ></i>
					<span class="text">
						<h3>{{totalAmount}}</h3>
						<p>Total Sales</p>
					</span>
				</li>
			</ul>


			<div class="table-data">
				<div class="order">
					<div class="head">
						<h3>Recent Orders</h3>
						<i class='bx bx-search' ></i>
						<i class='bx bx-filter' ></i>
					</div>
					<table>
						<thead>
							<tr>
								<th>Order ID</th>
								<th>Custmer Name</th>
								<th>Date Order</th>
								<th>Action</th>
							</tr>
						</thead>
						<tbody>
							{{#each order}}
			<tr>
				
    			<td>{{this.orderId}}</td>
    				<td>
    			    
     			   <p>{{this.shippingAddress.firstName}} {{this.shippingAddress.lastName}}</p>
 			   </td>
    			<td class="col-4">{{this.orderDate}}</td>
    		<td><button type="button" class="view-order-btn btn btn-outline-secondary" data-order-id="{{this.orderId}}">View order</button></td>
			</tr>
			{{/each}}
			

<!-- Missing OrderID in the third row -->
						</tbody>
					</table>
				</div>
				<div class="todo">
					<div class="head ps-4">
						<h3>Statitics</h3>
					</div>
					<ul class="todo-list bg-white">
						<li class="card bg-white">
						<canvas id="monthlySalesChart"></canvas>
						</li>
						<li class="card bg-white" sty>
							<canvas id="categorySalesChart"></canvas>
							

						</li>

					</ul>
				</div>
			</div>
		</main>
		<!-- MAIN -->
	</section>
	<!-- CONTENT -->

	<script>
		const categorySalesData = {
			const salesData = {{ salesByCategory | json }};

        // Extract labels (categories) and data (total sales) from the sales data
        const labels = Object.keys(salesData);
        const data = Object.values(salesData).map(category => category.totalSales);
    labels: ['Category 1', 'Category 2', 'Category 3'], // Replace with your category labels
    datasets: [{
        label: 'Category-wise Sales',
        data: [300, 450, 600], // Replace with your sales data for each category
        backgroundColor: [
            'rgba(255, 99, 132, 0.5)',
            'rgba(54, 162, 235, 0.5)',
            'rgba(255, 206, 86, 0.5)'
        ],
        borderColor: [
            'rgba(255, 99, 132, 1)',
            'rgba(54, 162, 235, 1)',
            'rgba(255, 206, 86, 1)'
        ],
        borderWidth: 1
    }]
};

const monthlySalesData = {
    labels: ['January', 'February', 'March', 'April', 'May', 'June'], // Replace with your month labels
    datasets: [{
        label: 'Monthly Sales',
        data: [1000, 1200, 1500, 1800, 2000, 2200], // Replace with your sales data for each month
        backgroundColor: 'rgba(255, 159, 64, 0.5)', // Color for bars
        borderColor: 'rgba(255, 159, 64, 1)',
        borderWidth: 1
    }]
};

// Render pie chart
const categorySalesChart = new Chart(document.getElementById('categorySalesChart'), {
    type: 'pie',
    data: categorySalesData,
    options: {}
});

// Render bar chart
const monthlySalesChart = new Chart(document.getElementById('monthlySalesChart'), {
    type: 'bar', // Change the type to bar
    data: monthlySalesData,
    options: {}
});

 document.addEventListener('DOMContentLoaded', function() {
        const viewOrderButtons = document.querySelectorAll('.view-order-btn');
        
        viewOrderButtons.forEach(button => {
            button.addEventListener('click', function() {
                const orderId = button.dataset.orderId;
                const url = `/order?orderId=${orderId}`; // Construct the URL with the order ID as a query parameter
                window.location.href = url; // Redirect to the order details page
            });
        });
    });
	   allSideMenu.forEach(item=> {
	const li = item.parentElement;

	item.addEventListener('click', function () {
		allSideMenu.forEach(i=> {
			i.parentElement.classList.remove('active');
		})
		li.classList.add('active');
	})
});

	</script>
	

